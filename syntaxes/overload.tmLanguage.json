{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "Overload",
    "scopeName": "source.overload",
    "patterns": [
        {
            "include": "#comments"
        },
        {
            "include": "#expressions"
        },
        {
            "include": "#definitions"
        }
    ],
    "repository": {
        "comments": {
            "name": "comments",
            "patterns": [
                {
                    "name": "comment.line.double-slash.overload",
                    "match": "//.*"
                }
            ]
        },
        "expressions": {
            "patterns": [
                {
                    "include": "#literals"
                },
                {
                    "include": "#bindings"
                }
            ]
        },
        "definitions": {
            "patterns": [
                {
                    "include": "#function-definition"
                }
            ]
        },
        "literals": {
            "patterns": [
                {
                    "include": "#strings"
                },
                {
                    "include": "#numbers"
                },
                {
                    "include": "#booleans"
                }
            ]
        },
        "strings": {
            "name": "string.quoted.single.overload",
            "begin": "'",
            "end": "'",
            "patterns": [
                {
                    "name": "constant.character.escape.overload",
                    "match": "\\\\."
                }
            ]
        },
        "numbers": {
            "patterns": [
                {
                    "name": "constant.numeric.overload",
                    "match": "\\b(?<!\\.)([1-9]\\d*)(%|(px|s)?\\b)(?!\\.)"
                },
                {
                    "name": "constant.numeric.overload",
                    "match": "\\b(([1-9]\\d*|0)\\.\\d+)(%|(px|s)?\\b)"
                },
                {
                    "name": "constant.other.color.rgb-value.hex.overload",
                    "match": "#([0-9a-fA-F]{8}|[0-9a-fA-F]{6})\\b"
                }
            ]
        },
        "booleans": {
            "patterns": [
                {
                    "name": "constant.language.boolean.overload",
                    "match": "(true|false)"
                }
            ]
        },
        "function-definition": {
            "name": "meta.function.overload",
            "begin": "(^ *)(?=fun +)",
            "end": "\\1",
            "patterns": [
                {
                    "name": "meta.function.signature.overload",
                    "begin": "(?=fun)",
                    "end": "=",
                    "patterns": [
                        {
                            "name": "meta.function.keyword-and-name",
                            "match": "(fun) +(_\\w+|[a-zA-Z]\\w*)\\s*",
                            "captures": {
                                "1": {
                                    "name": "keyword.other.overload"
                                },
                                "2": {
                                    "name": "entity.name.function.overload"
                                }
                            }
                        },
                        {
                            "match": "((_\\w+|[a-zA-Z]\\w*)(?: *(:) +(\\g<2>))?)(?:(?: *; *|\\s*?\\n\\s*?)\\g<1>)*",
                            "captures": {
                                "1": {
                                    "name": "variable.parameter.overload"
                                },
                                "2": {
                                    "name": "keyword.operator.type.annotation.overload"
                                },
                                "3": {
                                    "name": "entity.name.type"
                                }
                            }
                        }
                    ]
                }
            ]
        },
        "bindings": {
            "patterns": [
                {
                    "begin": "^ *(let|signal) +(_\\w+|[a-zA-Z]\\w*)(?: *(:) +((_\\w+|[a-zA-Z]\\w*)\\??))? *",
                    "beginCaptures": {
                        "1": {
                            "name": "keyword.other.overload"
                        },
                        "2": {
                            "name": "variable.name.overload"
                        },
                        "3": {
                            "name": "keyword.operator.type.annotation.overload"
                        },
                        "4": {
                            "name": "entity.name.type"
                        }
                    },
                    "end": "=",
                    "endCaptures": {
                        "0": {
                            "name": "keyword.operator.assignment.overload"
                        }
                    }
                }
            ]
        },
        "keywords": {
            "patterns": [
                {
                    "name": "keyword.control.overload",
                    "match": "raise"
                },
                {
                    "name": "support.type.primitive.overload",
                    "match": "(bool|float|int|color)"
                }
            ]
        }
    }
}